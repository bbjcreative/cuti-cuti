{"ast":null,"code":"var _jsxFileName = \"C:\\\\wamp64\\\\www\\\\cuti-cuti\\\\src\\\\components\\\\BlogSection.js\",\n  _s = $RefreshSig$();\n// BlogSection.js\nimport React, { useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction BlogSection() {\n  _s();\n  const [posts, setPosts] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    const fetchBlogPosts = async () => {\n      try {\n        const response = await fetch('https://zwilf14auh.execute-api.ap-southeast-5.amazonaws.com/Prod/releases');\n        if (!response.ok) {\n          throw new Error(`HTTP error! status: ${response.status}`);\n        }\n        const data = await response.json();\n        const formattedPosts = data.releases.map(item => {\n          const slug = item.title.toLowerCase().replace(/[^a-z0-9\\s-]/g, '').replace(/\\s+/g, '-').replace(/-+/g, '-');\n          const excerpt = item.content.length > 150 ? item.content.substring(0, 150) + '...' : item.content;\n\n          // --- FIX FOR \"INVALID DATE\" ---\n          let formattedDate = 'Date Unavailable'; // Default value\n          try {\n            // Trim whitespace and attempt to create a Date object\n            const dateObj = new Date(item.date.trim());\n            if (!isNaN(dateObj.getTime())) {\n              // Check if dateObj is a valid date\n              formattedDate = dateObj.toLocaleDateString('en-MY', {\n                year: 'numeric',\n                month: 'long',\n                day: 'numeric'\n              });\n            } else {\n              console.warn(\"Could not parse date:\", item.date);\n            }\n          } catch (e) {\n            console.error(\"Error parsing date:\", item.date, e);\n          }\n          // --- END FIX ---\n\n          const placeholderImages = ['/images/blog-placeholder-1.jpg', '/images/blog-placeholder-2.jpg', '/images/blog-placeholder-3.jpg'];\n          const randomImage = placeholderImages[Math.floor(Math.random() * placeholderImages.length)];\n          return {\n            id: slug,\n            title: item.title,\n            slug: slug,\n            date: formattedDate,\n            // Use the new formattedDate\n            content: item.content,\n            excerpt: excerpt,\n            featuredImage: randomImage,\n            originalLink: item.link\n          };\n        });\n        setPosts(formattedPosts);\n      } catch (err) {\n        setError(\"Failed to fetch travel ideas: \" + err.message);\n        console.error(\"API Fetch Error for blog posts:\", err);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchBlogPosts();\n  }, []);\n  if (loading) return /*#__PURE__*/_jsxDEV(\"p\", {\n    className: \"text-center dark:text-gray-400\",\n    children: \"Loading exciting travel ideas from Malaysia...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 25\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(\"p\", {\n    className: \"text-center text-red-500\",\n    children: [\"Error: \", error]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 23\n  }, this);\n  if (posts.length === 0) return /*#__PURE__*/_jsxDEV(\"p\", {\n    className: \"text-center dark:text-gray-400\",\n    children: \"No new travel ideas available at the moment. Check back soon!\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 36\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"grid md:grid-cols-2 lg:grid-cols-3 gap-8\",\n    children: posts.map(post => /*#__PURE__*/_jsxDEV(\"article\", {\n      className: \"bg-white dark:bg-gray-800 rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300 overflow-hidden\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: post.featuredImage,\n        alt: post.title,\n        className: \"w-full h-48 object-cover\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-5\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-xl font-semibold mb-2 text-gray-900 dark:text-white\",\n          children: post.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600 dark:text-gray-300 text-sm mb-3\",\n          children: post.excerpt\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between items-center text-xs text-gray-500 dark:text-gray-400 mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"Published on: \", post.date]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 29\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n          href: `/blog/${post.slug}`,\n          className: \"text-purple-700 hover:underline dark:text-purple-400\",\n          children: \"Read More \\u2192\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 21\n      }, this)]\n    }, post.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 17\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 79,\n    columnNumber: 9\n  }, this);\n}\n_s(BlogSection, \"FFSFm1bVdM1s2gLh8ffGbsIvlRY=\");\n_c = BlogSection;\nexport default BlogSection;\nvar _c;\n$RefreshReg$(_c, \"BlogSection\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","BlogSection","_s","posts","setPosts","loading","setLoading","error","setError","fetchBlogPosts","response","fetch","ok","Error","status","data","json","formattedPosts","releases","map","item","slug","title","toLowerCase","replace","excerpt","content","length","substring","formattedDate","dateObj","Date","date","trim","isNaN","getTime","toLocaleDateString","year","month","day","console","warn","e","placeholderImages","randomImage","Math","floor","random","id","featuredImage","originalLink","link","err","message","className","children","fileName","_jsxFileName","lineNumber","columnNumber","post","src","alt","href","_c","$RefreshReg$"],"sources":["C:/wamp64/www/cuti-cuti/src/components/BlogSection.js"],"sourcesContent":["// BlogSection.js\r\nimport React, { useState, useEffect } from 'react';\r\n\r\nfunction BlogSection() {\r\n    const [posts, setPosts] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState(null);\r\n\r\n    useEffect(() => {\r\n        const fetchBlogPosts = async () => {\r\n            try {\r\n                const response = await fetch('https://zwilf14auh.execute-api.ap-southeast-5.amazonaws.com/Prod/releases');\r\n                if (!response.ok) {\r\n                    throw new Error(`HTTP error! status: ${response.status}`);\r\n                }\r\n                const data = await response.json();\r\n\r\n                const formattedPosts = data.releases.map(item => {\r\n                    const slug = item.title.toLowerCase()\r\n                                        .replace(/[^a-z0-9\\s-]/g, '')\r\n                                        .replace(/\\s+/g, '-')\r\n                                        .replace(/-+/g, '-');\r\n\r\n                    const excerpt = item.content.length > 150\r\n                        ? item.content.substring(0, 150) + '...'\r\n                        : item.content;\r\n\r\n                    // --- FIX FOR \"INVALID DATE\" ---\r\n                    let formattedDate = 'Date Unavailable'; // Default value\r\n                    try {\r\n                        // Trim whitespace and attempt to create a Date object\r\n                        const dateObj = new Date(item.date.trim());\r\n                        if (!isNaN(dateObj.getTime())) { // Check if dateObj is a valid date\r\n                            formattedDate = dateObj.toLocaleDateString('en-MY', { year: 'numeric', month: 'long', day: 'numeric' });\r\n                        } else {\r\n                            console.warn(\"Could not parse date:\", item.date);\r\n                        }\r\n                    } catch (e) {\r\n                        console.error(\"Error parsing date:\", item.date, e);\r\n                    }\r\n                    // --- END FIX ---\r\n\r\n                    const placeholderImages = [\r\n                        '/images/blog-placeholder-1.jpg',\r\n                        '/images/blog-placeholder-2.jpg',\r\n                        '/images/blog-placeholder-3.jpg'\r\n                    ];\r\n                    const randomImage = placeholderImages[Math.floor(Math.random() * placeholderImages.length)];\r\n\r\n                    return {\r\n                        id: slug,\r\n                        title: item.title,\r\n                        slug: slug,\r\n                        date: formattedDate, // Use the new formattedDate\r\n                        content: item.content,\r\n                        excerpt: excerpt,\r\n                        featuredImage: randomImage,\r\n                        originalLink: item.link\r\n                    };\r\n                });\r\n                setPosts(formattedPosts);\r\n            } catch (err) {\r\n                setError(\"Failed to fetch travel ideas: \" + err.message);\r\n                console.error(\"API Fetch Error for blog posts:\", err);\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n\r\n        fetchBlogPosts();\r\n    }, []);\r\n\r\n    if (loading) return <p className=\"text-center dark:text-gray-400\">Loading exciting travel ideas from Malaysia...</p>;\r\n    if (error) return <p className=\"text-center text-red-500\">Error: {error}</p>;\r\n\r\n    if (posts.length === 0) return <p className=\"text-center dark:text-gray-400\">No new travel ideas available at the moment. Check back soon!</p>;\r\n\r\n    return (\r\n        <div className=\"grid md:grid-cols-2 lg:grid-cols-3 gap-8\">\r\n            {posts.map(post => (\r\n                <article key={post.id} className=\"bg-white dark:bg-gray-800 rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300 overflow-hidden\">\r\n                    <img src={post.featuredImage} alt={post.title} className=\"w-full h-48 object-cover\"/>\r\n                    <div className=\"p-5\">\r\n                        <h3 className=\"text-xl font-semibold mb-2 text-gray-900 dark:text-white\">{post.title}</h3>\r\n                        <p className=\"text-gray-600 dark:text-gray-300 text-sm mb-3\">{post.excerpt}</p>\r\n                        <div className=\"flex justify-between items-center text-xs text-gray-500 dark:text-gray-400 mb-3\">\r\n                            <span>Published on: {post.date}</span> {/* Display the fixed date here */}\r\n                        </div>\r\n                        <a href={`/blog/${post.slug}`} className=\"text-purple-700 hover:underline dark:text-purple-400\">Read More &rarr;</a>\r\n                    </div>\r\n                </article>\r\n            ))}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default BlogSection;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}